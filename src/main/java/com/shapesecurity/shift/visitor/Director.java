/*
 * Copyright 2014 Shape Security, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */


package com.shapesecurity.shift.visitor;

import com.shapesecurity.functional.data.Either;
import com.shapesecurity.functional.data.ImmutableList;
import com.shapesecurity.functional.data.Maybe;
import com.shapesecurity.functional.data.NonEmptyImmutableList;
import com.shapesecurity.shift.ast.*;
import com.shapesecurity.shift.ast.directive.UnknownDirective;
import com.shapesecurity.shift.ast.directive.UseStrictDirective;
import com.shapesecurity.shift.ast.expression.ArrayExpression;
import com.shapesecurity.shift.ast.expression.AssignmentExpression;
import com.shapesecurity.shift.ast.expression.BinaryExpression;
import com.shapesecurity.shift.ast.expression.CallExpression;
import com.shapesecurity.shift.ast.expression.ComputedMemberExpression;
import com.shapesecurity.shift.ast.expression.ConditionalExpression;
import com.shapesecurity.shift.ast.expression.FunctionExpression;
import com.shapesecurity.shift.ast.expression.IdentifierExpression;
import com.shapesecurity.shift.ast.expression.LiteralBooleanExpression;
import com.shapesecurity.shift.ast.expression.LiteralInfinityExpression;
import com.shapesecurity.shift.ast.expression.LiteralNullExpression;
import com.shapesecurity.shift.ast.expression.LiteralNumericExpression;
import com.shapesecurity.shift.ast.expression.LiteralRegExpExpression;
import com.shapesecurity.shift.ast.expression.LiteralStringExpression;
import com.shapesecurity.shift.ast.expression.NewExpression;
import com.shapesecurity.shift.ast.expression.ObjectExpression;
import com.shapesecurity.shift.ast.expression.*;
import com.shapesecurity.shift.ast.expression.StaticMemberExpression;
import com.shapesecurity.shift.ast.expression.ThisExpression;
import com.shapesecurity.shift.ast.property.DataProperty;
import com.shapesecurity.shift.ast.property.Getter;
import com.shapesecurity.shift.ast.property.ObjectProperty;
import com.shapesecurity.shift.ast.property.PropertyName;
import com.shapesecurity.shift.ast.property.Setter;
import com.shapesecurity.shift.ast.statement.BlockStatement;
import com.shapesecurity.shift.ast.statement.BreakStatement;
import com.shapesecurity.shift.ast.statement.ContinueStatement;
import com.shapesecurity.shift.ast.statement.DebuggerStatement;
import com.shapesecurity.shift.ast.statement.DoWhileStatement;
import com.shapesecurity.shift.ast.statement.EmptyStatement;
import com.shapesecurity.shift.ast.statement.ExpressionStatement;
import com.shapesecurity.shift.ast.statement.ForInStatement;
import com.shapesecurity.shift.ast.statement.ForStatement;
import com.shapesecurity.shift.ast.statement.FunctionDeclaration;
import com.shapesecurity.shift.ast.statement.IfStatement;
import com.shapesecurity.shift.ast.statement.LabeledStatement;
import com.shapesecurity.shift.ast.statement.ReturnStatement;
import com.shapesecurity.shift.ast.statement.SwitchStatement;
import com.shapesecurity.shift.ast.statement.SwitchStatementWithDefault;
import com.shapesecurity.shift.ast.statement.ThrowStatement;
import com.shapesecurity.shift.ast.statement.TryCatchStatement;
import com.shapesecurity.shift.ast.statement.TryFinallyStatement;
import com.shapesecurity.shift.ast.statement.VariableDeclarationStatement;
import com.shapesecurity.shift.ast.statement.WhileStatement;
import com.shapesecurity.shift.ast.statement.WithStatement;
import com.shapesecurity.shift.path.Branch;
import com.shapesecurity.shift.path.IndexedBranch;
import com.shapesecurity.shift.path.StaticBranch;
import com.shapesecurity.shift.visitor.Reducer;
import com.shapesecurity.shift.visitor.ReducerP;
import org.jetbrains.annotations.NotNull;

public final class Director {

  private Director() {
    // static only
  }

  @NotNull
  public static <State> State reduce(@NotNull Reducer<State> reducer, @NotNull Node node, @NotNull ImmutableList<Branch> path) {
    if (node instanceof Script) {
      Out reduceScript(reducer, (Script) node, path);
    } else if (node instanceof FunctionBody) {
      Out reduceFunctionBody(reducer, (FunctionBody) node, path);
    } else if (node instanceof ObjectProperty) {
      Out reduceObjectProperty(reducer, (ObjectProperty) node, path);
    } else if (node instanceof PropertyName) {
      Out reducePropertyName(reducer, (PropertyName) node, path);
    } else if (node instanceof Identifier) {
      Out reduceIdentifier(reducer, (Identifier) node, path);
    } else if (node instanceof Expression) {
      Out reduceExpression(reducer, (Expression) node, path);
    } else if (node instanceof Directive) {
      Out reduceDirective(reducer, (Directive) node, path);
    } else if (node instanceof Statement) {
      Out reduceStatement(reducer, (Statement) node, path);
    } else if (node instanceof Block) {
      Out reduceBlock(reducer, (Block) node, path);
    } else if (node instanceof VariableDeclarator) {
      Out reduceVariableDeclarator(reducer, (VariableDeclarator) node, path);
    } else if (node instanceof VariableDeclaration) {
      Out reduceVariableDeclaration(reducer, (VariableDeclaration) node, path);
    } else if (node instanceof SwitchCase) {
      Out reduceSwitchCase(reducer, (SwitchCase) node, path);
    } else if (node instanceof SwitchDefault) {
      Out reduceSwitchDefault(reducer, (SwitchDefault) node, path);
    } else if (node instanceof CatchClause) {
      Out reduceCatchClause(reducer, (CatchClause) node, path);
    } else {
      throw new RuntimeException("not reached");
    }
  }

  @NotNull
  public static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  Out reduceBlock(
    @NotNull ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    @NotNull Block node) {
    return reducer.reduceBlock(
      node,
      path,
      reduceListStatement(reducer, node.statements));
  }

  @NotNull
  public static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  Out reduceCatchClause(
    @NotNull ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    @NotNull CatchClause node) {
    return reducer.reduceCatchClause(
      node,
      path,
      reduceIdentifier(reducer, node.binding),
      reduceBlock(reducer, node.body));
  }

  @NotNull
  public static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  Out reduceDirective(
    @NotNull ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    @NotNull Directive node) {
    return reducer.reduceDirective(node);
  }

  private static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  Either<DeclarationState, ExpressionState> reduceEitherVariableDeclarationExpression(
    @NotNull ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    @NotNull Either<VariableDeclaration, Expression> node,
    @NotNull NonEmptyImmutableList<Branch> path) {
    return node.map(
      n -> reduceVariableDeclaration(reducer, n),
      n -> reduceExpression(reducer, n));
  }

  @NotNull
  public static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  Out reduceExpression(
    @NotNull ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    @NotNull Expression node) {
    switch (node.type()) {
      case FunctionExpression: {
        FunctionExpression tNode = (FunctionExpression) node;
        return reducer.reduceFunctionExpression(
          tNode,
          path,
          reducerMaybeIdentifier(reducer, tNode.name),
          reduceListIdentifier(reducer, tNode.parameters),
          reduceFunctionBody(reducer, tNode.body));
      }
      case LiteralBooleanExpression: {
        LiteralBooleanExpression tNode = (LiteralBooleanExpression) node;
        return reducer.reduceLiteralBooleanExpression(tNode, path);
      }
      case LiteralNullExpression: {
        LiteralNullExpression tNode = (LiteralNullExpression) node;
        return reducer.reduceLiteralNullExpression(tNode, path);
      }
      case LiteralInfinityExpression: {
        LiteralInfinityExpression tNode = (LiteralInfinityExpression) node;
        return reducer.reduceLiteralInfinityExpression(tNode, path);
      }
      case LiteralNumericExpression: {
        LiteralNumericExpression tNode = (LiteralNumericExpression) node;
        return reducer.reduceLiteralNumericExpression(tNode, path);
      }
      case LiteralRegExpExpression: {
        LiteralRegExpExpression tNode = (LiteralRegExpExpression) node;
        return reducer.reduceLiteralRegExpExpression(tNode, path);
      }
      case LiteralStringExpression: {
        LiteralStringExpression tNode = (LiteralStringExpression) node;
        return reducer.reduceLiteralStringExpression(tNode, path);
      }
      case ArrayExpression: {
        ArrayExpression tNode = (ArrayExpression) node;
        NonEmptyImmutableList<Branch> elementsPath = path.cons(StaticBranch.ELEMENTS);
        return reducer.reduceArrayExpression(
          tNode,
          path,
          tNode.elements.mapWithIndex((i, el) ->
            reduceOptionExpression(
              reducer,
              el,
              elementsPath.cons(IndexedBranch.from(i)))));
      }
      case AssignmentExpression: {
        AssignmentExpression tNode = (AssignmentExpression) node;
        return reducer.reduceAssignmentExpression(
          tNode,
          path,
          reduceExpression(reducer, tNode.binding),
          reduceExpression(reducer, tNode.expression));
      }
      case BinaryExpression: {
        BinaryExpression tNode = (BinaryExpression) node;
        return reducer.reduceBinaryExpression(
          tNode,
          path,
          reduceExpression(reducer, tNode.left),
          reduceExpression(reducer, tNode.right));
      }
      case CallExpression: {
        CallExpression tNode = (CallExpression) node;
        return reducer.reduceCallExpression(
          tNode,
          path,
          reduceExpression(reducer, tNode.callee),
          reduceListExpression(reducer, tNode.arguments));
      }
      case ComputedMemberExpression: {
        ComputedMemberExpression tNode = (ComputedMemberExpression) node;
        return reducer.reduceComputedMemberExpression(
          tNode,
          path,
          reduceExpression(reducer, tNode.object),
          reduceExpression(reducer, tNode.expression));
      }
      case ConditionalExpression: {
        ConditionalExpression tNode = (ConditionalExpression) node;
        return reducer.reduceConditionalExpression(
          tNode,
          path,
          reduceExpression(reducer, tNode.test),
          reduceExpression(reducer, tNode.consequent),
          reduceExpression(reducer, tNode.alternate));
      }
      case IdentifierExpression: {
        IdentifierExpression tNode = (IdentifierExpression) node;
        return reducer.reduceIdentifierExpression(
          tNode,
          path,
          reduceIdentifier(reducer, tNode.identifier));
      }
      case NewExpression: {
        NewExpression tNode = (NewExpression) node;
        return reducer.reduceNewExpression(
          tNode,
          path,
          reduceExpression(reducer, tNode.callee),
          reduceListExpression(reducer, tNode.arguments));
      }
      case PostfixExpression: {
        PostfixExpression tNode = (PostfixExpression) node;
        return reducer.reducePostfixExpression(
          tNode,
          path,
          reduceExpression(reducer, tNode.operand));
      }
      case ObjectExpression: {
        ObjectExpression tNode = (ObjectExpression) node;
        return reducer.reduceObjectExpression(
          tNode,
          path,
          reducerListProperty(reducer, tNode.properties));
      }
      case PrefixExpression: {
        PrefixExpression tNode = (PrefixExpression) node;
        return reducer.reducePrefixExpression(
          tNode,
          path,
          reduceExpression(reducer, tNode.operand));
      }
      case StaticMemberExpression: {
        StaticMemberExpression tNode = (StaticMemberExpression) node;
        return reducer.reduceStaticMemberExpression(
          tNode,
          path,
          reduceExpression(reducer, tNode.object),
          reduceIdentifier(reducer, tNode.property));
      }
      case ThisExpression: {
        ThisExpression tNode = (ThisExpression) node;
        return reducer.reduceThisExpression(tNode, path);
      }
      default:
        throw new RuntimeException("Not reached");
    }
  }

  @NotNull
  public static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  Out reduceFunctionBody(
    @NotNull ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    @NotNull FunctionBody node) {
    return reducer.reduceFunctionBody(
      node,
      path,
      reduceListDirective(reducer, node.directives),
      reduceListStatement(reducer, node.statements));
  }

  @NotNull
  private static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  ImmutableList<Out> reduceListExpression(
    @NotNull ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    @NotNull ImmutableList<Expression> list) {
    return list.mapWithIndex((i, el) -> reduceExpression(reducer, el));
  }

  @NotNull
  private static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  ImmutableList<Out> reduceListStatement(
    @NotNull ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    @NotNull ImmutableList<Statement> list) {
    return list.mapWithIndex((i, el) -> reduceStatement(reducer, el));
  }

  private static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  ImmutableList<Out> reduceListSwitchCase(
    @NotNull ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    @NotNull ImmutableList<SwitchCase> node) {
    return node.mapWithIndex((i, el) -> reduceSwitchCase(reducer, el));
  }

  @NotNull
  public static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  Out reduceObjectProperty(
    @NotNull ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    @NotNull ObjectProperty node) {
    PropertyNameState nameState = reducePropertyName(reducer, node.name);
    switch (node.type()) {
      case DataProperty: {
        DataProperty tNode = (DataProperty) node;
        return reducer.reduceDataProperty(
          tNode,
          path,
          nameState,
          reduceExpression(reducer, tNode.value));
      }
      case Getter: {
        Getter tNode = (Getter) node;
        return reducer.reduceGetter(
          tNode,
          path,
          nameState,
          reduceFunctionBody(reducer, tNode.body));
      }
      case Setter: {
        Setter tNode = (Setter) node;
        return reducer.reduceSetter(
          tNode,
          path,
          nameState,
          reduceIdentifier(reducer, tNode.parameter),
          reduceFunctionBody(reducer, tNode.body));
      }
      default:
        throw new RuntimeException("Not reached");
    }
  }

  @NotNull
  private static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  Maybe<Out> reduceOptionExpression(
    @NotNull ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    @NotNull Maybe<Expression> node) {
    return node.map(n -> reduceExpression(reducer, n));
  }

  @NotNull
  private static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  Maybe<Out> reduceOptionStatement(
    @NotNull ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    @NotNull Maybe<Statement> node) {
    return node.map(n -> reduceStatement(reducer, n));
  }

  @NotNull
  public static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  Out reducePropertyName(
    @NotNull ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    @NotNull PropertyName node) {
    return reducer.reducePropertyName(node, path);
  }

  @NotNull
  public static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  Out reduceScript(
    @NotNull ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    @NotNull Script node) {
    return reducer.reduceScript(
      node,
      reduceListDirective(reducer, node.directives),
      reduceListStatement(reducer, node.statements)
    );
  }

  @NotNull
  public static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  Out reduceStatement(
    @NotNull ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    @NotNull Statement node) {
    if (node instanceof FunctionDeclaration) {
      FunctionDeclaration tNode = (FunctionDeclaration) node;
      return reducer.reduceFunctionDeclaration(tNode, reduceBindingIdentifier(reducer, tNode.name), reduceFormalParameters(reducer, tNode.params), reduceFunctionBody(reducer, tNode.body));
    } else if (node instanceof BlockStatement) {
      BlockStatement tNode = (BlockStatement) node;
      return reducer.reduceBlockStatement(tNode, reduceBlock(reducer, tNode.block);
    } else if (node instanceof BreakStatement) {
      BreakStatement tNode = (BreakStatement) node;
      return reducer.reduceBreakStatement(tNode);
    } else if (node instanceof ContinueStatement) {
      ContinueStatement tNode = (ContinueStatement) node;
      return reducer.reduceContinueStatement(tNode);
    } else if (node instanceof DebuggerStatement) {
      DebuggerStatement tNode = (DebuggerStatement) node;
      return reducer.reduceDebuggerStatement(tNode);
    } else if (node instanceof DoWhileStatement) {
      DoWhileStatement tNode = (DoWhileStatement) node;
      return reducer.reduceDoWhileStatement(tNode, reduceStatement(reducer, tNode.body), reduceExpression(reducer, tNode.test));
    } else if (node instanceof EmptyStatement) {
      EmptyStatement tNode = (EmptyStatement) node;
      return reducer.reduceEmptyStatement(tNode);
    } else if (node instanceof ExpressionStatement) {
      ExpressionStatement tNode = (ExpressionStatement) node;
      return reducer.reduceExpressionStatement(tNode, reduceExpression(reducer, tNode.expression));
    } else if (node instanceof ForInStatement) {
      ForInStatement tNode = (ForInStatement) node;
      return reducer.reduceForInStatement(tNode, reduceVariableDeclarationBinding(reducer, tNode.left), reduceExpression(reducer, tNode.right), reduceStatement(reducer, tNode.body));
    } else if (node instanceof ForStatement) {
      ForStatement tNode = (ForStatement) node;
      return reducer.reduceForStatement(tNode, tNode.init.map(init -> reduceVariableDeclarationExpression(reducer, tNode.init)), reduceOptionExpression(reducer, tNode.test), reduceOptionExpression(reducer, tNode.update), reduceStatement(reducer, tNode.body));
    } else if (node instanceof IfStatement) {
      IfStatement tNode = (IfStatement) node;
      return reducer.reduceIfStatement(tNode, reduceExpression(reducer, tNode.test), reduceStatement(reducer, tNode.consequent), reduceOptionStatement(reducer, tNode.alternate));
    } else if (node instanceof LabeledStatement) {
      LabeledStatement tNode = (LabeledStatement) node;
      return reducer.reduceLabeledStatement(tNode, reduceStatement(reducer, tNode.body));
    } else if (node instanceof ReturnStatement) {
      ReturnStatement tNode = (ReturnStatement) node;
      return reducer.reduceReturnStatement(tNode, reduceOptionExpression(reducer, tNode.expression));
    } else if (node instanceof SwitchStatement) {
      SwitchStatement tNode = (SwitchStatement) node;
      return reducer.reduceSwitchStatement(tNode, reduceExpression(reducer, tNode.discriminant), reduceListSwitchCase(reducer, tNode.cases));
    } else if (node instanceof SwitchStatementWithDefault) {
      SwitchStatementWithDefault tNode = (SwitchStatementWithDefault) node;
      return reducer.reduceSwitchStatementWithDefault(tNode, reduceExpression(reducer, tNode.discriminant), reduceListSwitchCase(reducer, tNode.preDefaultCases), reduceSwitchDefault(reducer, tNode.defaultCase), reduceListSwitchCase(reducer, tNode.postDefaultCases));
    } else if (node instanceof ThrowStatement) {
      ThrowStatement tNode = (ThrowStatement) node;
      return reducer.reduceThrowStatement(tNode, reduceExpression(reducer, tNode.expression));
    } else if (node instanceof TryCatchStatement) {
      TryCatchStatement tNode = (TryCatchStatement) node;
      return reducer.reduceTryCatchStatement(tNode, reduceBlock(reducer, tNode.body), reduceCatchClause(reducer, tNode.catchClause));
    } else if (node instanceof TryFinallyStatement) {
      TryFinallyStatement tNode = (TryFinallyStatement) node;
      return reducer.reduceTryFinallyStatement(tNode, reduceBlock(reducer, tNode.body), tNode.catchClause.map(n -> reduceCatchClause(reducer, n)), reduceBlock(reducer, tNode.finalizer));
    } else if (node instanceof VariableDeclarationStatement) {
      VariableDeclarationStatement tNode = (VariableDeclarationStatement) node;
      return reducer.reduceVariableDeclarationStatement(tNode, reduceVariableDeclaration(reducer, tNode.declaration));
    } else if (node instanceof WhileStatement) {
      WhileStatement tNode = (WhileStatement) node;
      return reducer.reduceWhileStatement(tNode, reduceExpression(reducer, tNode.test), reduceStatement(reducer, tNode.body));
    } else if (node instanceof WithStatement) {
      WithStatement tNode = (WithStatement) node;
      return reducer.reduceWithStatement(tNode, reduceExpression(reducer, tNode._object), reduceStatement(reducer, tNode.body));
    }
    throw new RuntimeException("Not reached");
  }

  private static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  Out reduceFormalParameters(
    ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    FormalParameters node) {
    return reducer.reduceFormalParameters(node.items.map((i) -> reducer.reduceBindingBindingWithDefault(i)), node.rest.map(reducer::reduceBindingIdentifier));
  }

  private static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  Out reduceBindingBindingWithDefault(
    ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    BindingBindingWithDefault node) {
    if (node instanceof Binding) {
      return reduceBinding(reducer, (Binding) node);
    } else {
      return reduceBindingWithDefault(reducer, (BindingWithDefault) node);
    }
  }

  private static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  Out reduceBindingWithDefault(
    ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    BindingWithDefault node) {
    return reducer.reduceBindingWithDefault(node, reduceBinding(reducer, node.binding), reduceExpression(reducer, node.init));
  }

  private static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState extends Out, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState extends Out, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState extends Out, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState extends Out, StaticPropertyNameState, SuperState extends Out, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  Out reduceCompoundAssignmentExpression(
    ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    CompoundAssignmentExpression node) {
    return reducer.reduceCompoundAssignmentExpression(node, reduceBindingIdentifierMemberExpression(reducer, node.binding), reduceExpression(reducer, node.expression));
  }

  private static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState extends Out, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState extends Out, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  Out reduceBindingIdentifierMemberExpression(
    ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    BindingIdentifierMemberExpression node) {
    if (node instanceof BindingIdentifier) {
      return reducer.reduceBindingIdentifier((BindingIdentifier) node);
    } else {
      return reduceMemberExpression(reducer, (MemberExpression) node);
    }
  }

  private static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState extends Out, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  Out reduceMemberExpression(
    ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    MemberExpression node) {
    if (node instanceof ComputedMemberExpression) {
      ComputedMemberExpression computedMemberExpression = (ComputedMemberExpression) node;
      return reducer.reduceComputedMemberExpression(computedMemberExpression, reduceExpressionSuper(reducer, computedMemberExpression._object), reduceExpression(reducer, computedMemberExpression.expression));
    } else {
      StaticMemberExpression staticMemberExpression = (StaticMemberExpression) node;
      return reducer.reduceStaticMemberExpression(staticMemberExpression, reduceExpressionSuper(reducer, staticMemberExpression._object));
    }
  }

  private static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState extends Out, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  Out reduceExpressionSuper(
    ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    ExpressionSuper node) {
    if (node instanceof Expression) {
      return reduceExpression(reducer, (Expression) node);
    } else {
      return reducer.reduceSuper((Super) node);
    }
  }

  private static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  Out reduceBinding(
    ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    Binding node) {
    return null;
  }

  @NotNull
  public static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  Out reduceSwitchCase(
    @NotNull ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    @NotNull SwitchCase node) {
    return reducer.reduceSwitchCase(node, reduceExpression(reducer, node.test), reduceListStatement(reducer, node.consequent));
  }

  @NotNull
  public static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  Out reduceSwitchDefault(
    @NotNull ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    @NotNull SwitchDefault node) {
    return reducer.reduceSwitchDefault(node, reduceListStatement(reducer, node.consequent));
  }

  @NotNull
  public static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  Out reduceVariableDeclaration(
    @NotNull ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    @NotNull VariableDeclaration node) {
    return reducer.reduceVariableDeclaration(node, node.declarators.map((el) -> reduceVariableDeclarator(reducer, el)));
  }

  @NotNull
  public static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  Out reduceVariableDeclarator(
    @NotNull ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    @NotNull VariableDeclarator node) {
    return reducer.reduceVariableDeclarator(
      node,
      reduceBinding(reducer, node.binding),
      reduceOptionExpression(reducer, node.init));
  }

  private static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  ImmutableList<Out> reduceListDirective(
    @NotNull ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    @NotNull ImmutableList<Directive> directives) {
    return directives.mapWithIndex((i, el) -> reduceDirective(reducer, el));
  }

  private static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  ImmutableList<Out> reducerListProperty(
    @NotNull ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    @NotNull ImmutableList<ObjectProperty> properties) {
    return properties.mapWithIndex((i, el) -> reduceObjectProperty(reducer, el));
  }

  private static <ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out>
  Maybe<Out> reducerMaybeIdentifier(
    @NotNull ReducerP<ArrayBindingState, ArrayExpressionState, ArrowExpressionState, AssignmentExpressionState, BinaryExpressionState, BindingState, BindingBindingWithDefaultState, BindingIdentifierState, BindingIdentifierMemberExpressionState, BindingPropertyState, BindingPropertyIdentifierState, BindingPropertyPropertyState, BindingWithDefaultState, BlockState, BlockStatementState, BreakStatementState, CallExpressionState, CatchClauseState, ClassDeclarationState, ClassElementState, ClassExpressionState, CompoundAssignmentExpressionState, ComputedMemberExpressionState, ComputedPropertyNameState, ConditionalExpressionState, ContinueStatementState, DataPropertyState, DebuggerStatementState, DirectiveState, DoWhileStatementState, EmptyStatementState, ExportState, ExportAllFromState, ExportDeclarationState, ExportDefaultState, ExportFromState, ExportSpecifierState, ExpressionState, ExpressionStatementState, ExpressionSuperState, ExpressionTemplateElementState, ForInStatementState, ForOfStatementState, ForStatementState, FormalParametersState, FunctionBodyState, FunctionBodyExpressionState, FunctionDeclarationState, FunctionDeclarationClassDeclarationExpressionState, FunctionDeclarationClassDeclarationVariableDeclarationState, FunctionExpressionState, GetterState, IdentifierExpressionState, IfStatementState, ImportState, ImportDeclarationState, ImportDeclarationExportDeclarationStatementState, ImportNamespaceState, ImportSpecifierState, LabeledStatementState, LiteralBooleanExpressionState, LiteralInfinityExpressionState, LiteralNullExpressionState, LiteralNumericExpressionState, LiteralRegExpExpressionState, LiteralStringExpressionState, MethodState, MethodDefinitionState, ModuleState, NamedObjectPropertyState, NewExpressionState, NewTargetExpressionState, ObjectBindingState, ObjectExpressionState, ObjectPropertyState, PropertyNameState, ReturnStatementState, ScriptState, SetterState, ShorthandPropertyState, SpreadElementState, SpreadElementExpressionState, StatementState, StaticMemberExpressionState, StaticPropertyNameState, SuperState, SwitchCaseState, SwitchDefaultState, SwitchStatementState, SwitchStatementWithDefaultState, TemplateElementState, TemplateExpressionState, ThisExpressionState, ThrowStatementState, TryCatchStatementState, TryFinallyStatementState, UnaryExpressionState, UpdateExpressionState, VariableDeclarationState, VariableDeclarationBindingState, VariableDeclarationExpressionState, VariableDeclarationStatementState, VariableDeclaratorState, WhileStatementState, WithStatementState, YieldExpressionState, YieldGeneratorExpressionState, Out> reducer,
    @NotNull Maybe<Identifier> node) {
    return node.map(n -> reduceIdentifier(reducer, n));
  }
}
