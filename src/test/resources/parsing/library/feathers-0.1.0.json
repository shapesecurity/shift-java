{"type":"Script","body":{"type":"FunctionBody","directives":[],"statements":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"FunctionExpression","name":null,"parameters":[{"type":"Identifier","name":"root"},{"type":"Identifier","name":"factory"}],"body":{"type":"FunctionBody","directives":[],"statements":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&&","left":{"type":"BinaryExpression","operator":"===","left":{"type":"PrefixExpression","operator":"typeof","operand":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"define"}}},"right":{"type":"LiteralStringExpression","value":"function"}},"right":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"define"}},"property":{"type":"Identifier","name":"amd"}}},"consequent":{"type":"BlockStatement","block":{"type":"Block","statements":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"define"}},"arguments":[{"type":"ArrayExpression","elements":[{"type":"LiteralStringExpression","value":"can/util/library"},{"type":"LiteralStringExpression","value":"can/model"}]},{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"factory"}}]}}]}},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"===","left":{"type":"PrefixExpression","operator":"typeof","operand":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"exports"}}},"right":{"type":"LiteralStringExpression","value":"object"}},"consequent":{"type":"BlockStatement","block":{"type":"Block","statements":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","binding":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"module"}},"property":{"type":"Identifier","name":"exports"}},"expression":{"type":"CallExpression","callee":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"factory"}},"arguments":[{"type":"CallExpression","callee":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"require"}},"arguments":[{"type":"LiteralStringExpression","value":"can/util/library"}]},{"type":"CallExpression","callee":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"require"}},"arguments":[{"type":"LiteralStringExpression","value":"can/model"}]}]}}}]}},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"&&","left":{"type":"BinaryExpression","operator":"&&","left":{"type":"BinaryExpression","operator":"!==","left":{"type":"PrefixExpression","operator":"typeof","operand":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"window"}}},"right":{"type":"LiteralStringExpression","value":"undefined"}},"right":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"root"}}},"right":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"root"}},"property":{"type":"Identifier","name":"can"}}},"consequent":{"type":"BlockStatement","block":{"type":"Block","statements":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"factory"}},"arguments":[{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"root"}},"property":{"type":"Identifier","name":"can"}},{"type":"StaticMemberExpression","object":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"root"}},"property":{"type":"Identifier","name":"can"}},"property":{"type":"Identifier","name":"Model"}}]}}]}},"alternate":null}}}]}},"arguments":[{"type":"ThisExpression"},{"type":"FunctionExpression","name":null,"parameters":[{"type":"Identifier","name":"can"},{"type":"Identifier","name":"Model"}],"body":{"type":"FunctionBody","directives":[],"statements":[{"type":"VariableDeclarationStatement","declaration":{"type":"VariableDeclaration","kind":"var","declarators":[{"type":"VariableDeclarator","binding":{"type":"Identifier","name":"stripSlashes"},"init":{"type":"FunctionExpression","name":null,"parameters":[{"type":"Identifier","name":"name"}],"body":{"type":"FunctionBody","directives":[],"statements":[{"type":"ReturnStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"name"}},"property":{"type":"Identifier","name":"replace"}},"arguments":[{"type":"LiteralRegexExpression","value":"/^\\/|\\/$/g"},{"type":"LiteralStringExpression","value":""}]}}]}}}]}},{"type":"VariableDeclarationStatement","declaration":{"type":"VariableDeclaration","kind":"var","declarators":[{"type":"VariableDeclarator","binding":{"type":"Identifier","name":"socketTypes"},"init":{"type":"ObjectExpression","properties":[{"type":"DataProperty","name":{"type":"identifier","value":"primus"},"value":{"type":"LiteralStringExpression","value":"primus/primus.js"}},{"type":"DataProperty","name":{"type":"identifier","value":"socketio"},"value":{"type":"LiteralStringExpression","value":"socket.io/socket.io.js"}}]}}]}},{"type":"VariableDeclarationStatement","declaration":{"type":"VariableDeclaration","kind":"var","declarators":[{"type":"VariableDeclarator","binding":{"type":"Identifier","name":"SocketModel"},"init":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"Model"}},"property":{"type":"Identifier","name":"extend"}},"arguments":[{"type":"ObjectExpression","properties":[{"type":"DataProperty","name":{"type":"identifier","value":"_locks"},"value":{"type":"ObjectExpression","properties":[]}},{"type":"DataProperty","name":{"type":"identifier","value":"connect"},"value":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"can"}},"property":{"type":"Identifier","name":"Deferred"}},"arguments":[]}},{"type":"DataProperty","name":{"type":"identifier","value":"setup"},"value":{"type":"FunctionExpression","name":null,"parameters":[],"body":{"type":"FunctionBody","directives":[],"statements":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"Model"}},"property":{"type":"Identifier","name":"setup"}},"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"ThisExpression"},{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"arguments"}}]}},{"type":"IfStatement","test":{"type":"StaticMemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"resource"}},"consequent":{"type":"BlockStatement","block":{"type":"Block","statements":[{"type":"VariableDeclarationStatement","declaration":{"type":"VariableDeclaration","kind":"var","declarators":[{"type":"VariableDeclarator","binding":{"type":"Identifier","name":"self"},"init":{"type":"ThisExpression"}}]}},{"type":"VariableDeclarationStatement","declaration":{"type":"VariableDeclaration","kind":"var","declarators":[{"type":"VariableDeclarator","binding":{"type":"Identifier","name":"resource"},"init":{"type":"CallExpression","callee":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"stripSlashes"}},"arguments":[{"type":"StaticMemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"resource"}}]}}]}},{"type":"VariableDeclarationStatement","declaration":{"type":"VariableDeclaration","kind":"var","declarators":[{"type":"VariableDeclarator","binding":{"type":"Identifier","name":"makeHandler"},"init":{"type":"FunctionExpression","name":null,"parameters":[{"type":"Identifier","name":"ev"}],"body":{"type":"FunctionBody","directives":[],"statements":[{"type":"ReturnStatement","expression":{"type":"FunctionExpression","name":null,"parameters":[{"type":"Identifier","name":"data"}],"body":{"type":"FunctionBody","directives":[],"statements":[{"type":"VariableDeclarationStatement","declaration":{"type":"VariableDeclaration","kind":"var","declarators":[{"type":"VariableDeclarator","binding":{"type":"Identifier","name":"id"},"init":{"type":"ComputedMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"data"}},"expression":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"self"}},"property":{"type":"Identifier","name":"id"}}}}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"===","left":{"type":"ComputedMemberExpression","object":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"self"}},"property":{"type":"Identifier","name":"_locks"}},"expression":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"id"}}},"right":{"type":"BinaryExpression","operator":"+","left":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"ev"}},"right":{"type":"LiteralStringExpression","value":"d"}}},"consequent":{"type":"BlockStatement","block":{"type":"Block","statements":[{"type":"ExpressionStatement","expression":{"type":"PrefixExpression","operator":"delete","operand":{"type":"ComputedMemberExpression","object":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"self"}},"property":{"type":"Identifier","name":"_locks"}},"expression":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"id"}}}}}]}},"alternate":{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!==","left":{"type":"ComputedMemberExpression","object":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"self"}},"property":{"type":"Identifier","name":"_locks"}},"expression":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"id"}}},"right":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"ev"}}},"consequent":{"type":"BlockStatement","block":{"type":"Block","statements":[{"type":"VariableDeclarationStatement","declaration":{"type":"VariableDeclaration","kind":"var","declarators":[{"type":"VariableDeclarator","binding":{"type":"Identifier","name":"modelEvent"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"===","left":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"ev"}},"right":{"type":"LiteralStringExpression","value":"remove"}},"consequent":{"type":"LiteralStringExpression","value":"destroyed"},"alternate":{"type":"BinaryExpression","operator":"+","left":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"ev"}},"right":{"type":"LiteralStringExpression","value":"d"}}}}]}},{"type":"IfStatement","test":{"type":"PrefixExpression","operator":"!","operand":{"type":"BinaryExpression","operator":"&&","left":{"type":"BinaryExpression","operator":"==","left":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"ev"}},"right":{"type":"LiteralStringExpression","value":"create"}},"right":{"type":"ComputedMemberExpression","object":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"self"}},"property":{"type":"Identifier","name":"store"}},"expression":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"id"}}}}},"consequent":{"type":"BlockStatement","block":{"type":"Block","statements":[{"type":"VariableDeclarationStatement","declaration":{"type":"VariableDeclaration","kind":"var","declarators":[{"type":"VariableDeclarator","binding":{"type":"Identifier","name":"model"},"init":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"self"}},"property":{"type":"Identifier","name":"model"}},"arguments":[{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"data"}}]}}]}},{"type":"IfStatement","test":{"type":"ComputedMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"model"}},"expression":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"modelEvent"}}},"consequent":{"type":"BlockStatement","block":{"type":"Block","statements":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"ComputedMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"model"}},"expression":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"modelEvent"}}},"arguments":[]}}]}},"alternate":null}]}},"alternate":null}]}},"alternate":null}}]}}}]}}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"StaticMemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"connect"}},"property":{"type":"Identifier","name":"done"}},"arguments":[{"type":"FunctionExpression","name":null,"parameters":[{"type":"Identifier","name":"socket"}],"body":{"type":"FunctionBody","directives":[],"statements":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"socket"}},"property":{"type":"Identifier","name":"on"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"resource"}},"right":{"type":"LiteralStringExpression","value":" created"}},{"type":"CallExpression","callee":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"makeHandler"}},"arguments":[{"type":"LiteralStringExpression","value":"create"}]}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"socket"}},"property":{"type":"Identifier","name":"on"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"resource"}},"right":{"type":"LiteralStringExpression","value":" updated"}},{"type":"CallExpression","callee":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"makeHandler"}},"arguments":[{"type":"LiteralStringExpression","value":"update"}]}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"socket"}},"property":{"type":"Identifier","name":"on"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"resource"}},"right":{"type":"LiteralStringExpression","value":" removed"}},{"type":"CallExpression","callee":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"makeHandler"}},"arguments":[{"type":"LiteralStringExpression","value":"remove"}]}]}}]}}]}}]}},"alternate":null}]}}},{"type":"DataProperty","name":{"type":"identifier","value":"send"},"value":{"type":"FunctionExpression","name":null,"parameters":[],"body":{"type":"FunctionBody","directives":[],"statements":[{"type":"VariableDeclarationStatement","declaration":{"type":"VariableDeclaration","kind":"var","declarators":[{"type":"VariableDeclarator","binding":{"type":"Identifier","name":"deferred"},"init":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"can"}},"property":{"type":"Identifier","name":"Deferred"}},"arguments":[]}}]}},{"type":"VariableDeclarationStatement","declaration":{"type":"VariableDeclaration","kind":"var","declarators":[{"type":"VariableDeclarator","binding":{"type":"Identifier","name":"args"},"init":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"can"}},"property":{"type":"Identifier","name":"makeArray"}},"arguments":[{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"arguments"}}]}}]}},{"type":"VariableDeclarationStatement","declaration":{"type":"VariableDeclaration","kind":"var","declarators":[{"type":"VariableDeclarator","binding":{"type":"Identifier","name":"name"},"init":{"type":"ComputedMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"args"}},"expression":{"type":"LiteralNumericExpression","value":0.0}}}]}},{"type":"VariableDeclarationStatement","declaration":{"type":"VariableDeclaration","kind":"var","declarators":[{"type":"VariableDeclarator","binding":{"type":"Identifier","name":"self"},"init":{"type":"ThisExpression"}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","binding":{"type":"ComputedMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"args"}},"expression":{"type":"LiteralNumericExpression","value":0.0}},"expression":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"CallExpression","callee":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"stripSlashes"}},"arguments":[{"type":"StaticMemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"resource"}}]},"right":{"type":"LiteralStringExpression","value":"::"}},"right":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"name"}}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"args"}},"property":{"type":"Identifier","name":"push"}},"arguments":[{"type":"FunctionExpression","name":null,"parameters":[{"type":"Identifier","name":"error"},{"type":"Identifier","name":"data"}],"body":{"type":"FunctionBody","directives":[],"statements":[{"type":"IfStatement","test":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"error"}},"consequent":{"type":"BlockStatement","block":{"type":"Block","statements":[{"type":"ReturnStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"deferred"}},"property":{"type":"Identifier","name":"reject"}},"arguments":[{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"error"}}]}}]}},"alternate":null},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"||","left":{"type":"BinaryExpression","operator":"||","left":{"type":"BinaryExpression","operator":"===","left":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"name"}},"right":{"type":"LiteralStringExpression","value":"create"}},"right":{"type":"BinaryExpression","operator":"===","left":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"name"}},"right":{"type":"LiteralStringExpression","value":"remove"}}},"right":{"type":"BinaryExpression","operator":"===","left":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"name"}},"right":{"type":"LiteralStringExpression","value":"update"}}},"consequent":{"type":"BlockStatement","block":{"type":"Block","statements":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","binding":{"type":"ComputedMemberExpression","object":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"self"}},"property":{"type":"Identifier","name":"_locks"}},"expression":{"type":"ComputedMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"data"}},"expression":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"self"}},"property":{"type":"Identifier","name":"id"}}}},"expression":{"type":"BinaryExpression","operator":"+","left":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"name"}},"right":{"type":"LiteralStringExpression","value":"d"}}}}]}},"alternate":null},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"deferred"}},"property":{"type":"Identifier","name":"resolve"}},"arguments":[{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"data"}}]}}]}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"StaticMemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"connect"}},"property":{"type":"Identifier","name":"done"}},"arguments":[{"type":"FunctionExpression","name":null,"parameters":[{"type":"Identifier","name":"socket"}],"body":{"type":"FunctionBody","directives":[],"statements":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"socket"}},"property":{"type":"Identifier","name":"emit"}},"property":{"type":"Identifier","name":"apply"}},"arguments":[{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"socket"}},{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"args"}}]}}]}}]}},{"type":"ReturnStatement","expression":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"deferred"}}}]}}},{"type":"DataProperty","name":{"type":"identifier","value":"findAll"},"value":{"type":"FunctionExpression","name":null,"parameters":[{"type":"Identifier","name":"params"}],"body":{"type":"FunctionBody","directives":[],"statements":[{"type":"ReturnStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"send"}},"arguments":[{"type":"LiteralStringExpression","value":"find"},{"type":"BinaryExpression","operator":"||","left":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"params"}},"right":{"type":"ObjectExpression","properties":[]}}]}}]}}},{"type":"DataProperty","name":{"type":"identifier","value":"findOne"},"value":{"type":"FunctionExpression","name":null,"parameters":[{"type":"Identifier","name":"params"}],"body":{"type":"FunctionBody","directives":[],"statements":[{"type":"ReturnStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"send"}},"arguments":[{"type":"LiteralStringExpression","value":"get"},{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"params"}},"property":{"type":"Identifier","name":"id"}},{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"params"}}]}}]}}},{"type":"DataProperty","name":{"type":"identifier","value":"create"},"value":{"type":"FunctionExpression","name":null,"parameters":[{"type":"Identifier","name":"attrs"},{"type":"Identifier","name":"params"}],"body":{"type":"FunctionBody","directives":[],"statements":[{"type":"ReturnStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"send"}},"arguments":[{"type":"LiteralStringExpression","value":"create"},{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"attrs"}},{"type":"BinaryExpression","operator":"||","left":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"params"}},"right":{"type":"ObjectExpression","properties":[]}}]}}]}}},{"type":"DataProperty","name":{"type":"identifier","value":"update"},"value":{"type":"FunctionExpression","name":null,"parameters":[{"type":"Identifier","name":"id"},{"type":"Identifier","name":"attrs"},{"type":"Identifier","name":"params"}],"body":{"type":"FunctionBody","directives":[],"statements":[{"type":"VariableDeclarationStatement","declaration":{"type":"VariableDeclaration","kind":"var","declarators":[{"type":"VariableDeclarator","binding":{"type":"Identifier","name":"ev"},"init":{"type":"AssignmentExpression","operator":"=","binding":{"type":"ComputedMemberExpression","object":{"type":"StaticMemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"_locks"}},"expression":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"id"}}},"expression":{"type":"LiteralStringExpression","value":"update"}}}]}},{"type":"ReturnStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"send"}},"arguments":[{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"ev"}},{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"id"}},{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"attrs"}},{"type":"BinaryExpression","operator":"||","left":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"params"}},"right":{"type":"ObjectExpression","properties":[]}}]}}]}}},{"type":"DataProperty","name":{"type":"identifier","value":"destroy"},"value":{"type":"FunctionExpression","name":null,"parameters":[{"type":"Identifier","name":"id"},{"type":"Identifier","name":"attrs"},{"type":"Identifier","name":"params"}],"body":{"type":"FunctionBody","directives":[],"statements":[{"type":"VariableDeclarationStatement","declaration":{"type":"VariableDeclaration","kind":"var","declarators":[{"type":"VariableDeclarator","binding":{"type":"Identifier","name":"ev"},"init":{"type":"AssignmentExpression","operator":"=","binding":{"type":"ComputedMemberExpression","object":{"type":"StaticMemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"_locks"}},"expression":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"id"}}},"expression":{"type":"LiteralStringExpression","value":"remove"}}}]}},{"type":"ReturnStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"send"}},"arguments":[{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"ev"}},{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"id"}},{"type":"BinaryExpression","operator":"||","left":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"params"}},"right":{"type":"ObjectExpression","properties":[]}}]}}]}}}]},{"type":"ObjectExpression","properties":[]}]}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","binding":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"can"}},"property":{"type":"Identifier","name":"Feathers"}},"expression":{"type":"ObjectExpression","properties":[{"type":"DataProperty","name":{"type":"identifier","value":"Model"},"value":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"SocketModel"}}},{"type":"DataProperty","name":{"type":"identifier","value":"model"},"value":{"type":"FunctionExpression","name":null,"parameters":[{"type":"Identifier","name":"resource"}],"body":{"type":"FunctionBody","directives":[],"statements":[{"type":"ReturnStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"SocketModel"}},"property":{"type":"Identifier","name":"extend"}},"arguments":[{"type":"ObjectExpression","properties":[{"type":"DataProperty","name":{"type":"identifier","value":"resource"},"value":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"resource"}}}]},{"type":"ObjectExpression","properties":[]}]}}]}}},{"type":"DataProperty","name":{"type":"identifier","value":"connect"},"value":{"type":"FunctionExpression","name":null,"parameters":[{"type":"Identifier","name":"options"},{"type":"Identifier","name":"queryObj"}],"body":{"type":"FunctionBody","directives":[],"statements":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","binding":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"options"}},"expression":{"type":"BinaryExpression","operator":"||","left":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"options"}},"right":{"type":"ObjectExpression","properties":[]}}}},{"type":"VariableDeclarationStatement","declaration":{"type":"VariableDeclaration","kind":"var","declarators":[{"type":"VariableDeclarator","binding":{"type":"Identifier","name":"dfd"},"init":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"SocketModel"}},"property":{"type":"Identifier","name":"connect"}}}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"!==","left":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"dfd"}},"property":{"type":"Identifier","name":"state"}},"arguments":[]},"right":{"type":"LiteralStringExpression","value":"resolved"}},"consequent":{"type":"BlockStatement","block":{"type":"Block","statements":[{"type":"VariableDeclarationStatement","declaration":{"type":"VariableDeclaration","kind":"var","declarators":[{"type":"VariableDeclarator","binding":{"type":"Identifier","name":"script"},"init":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"document"}},"property":{"type":"Identifier","name":"createElement"}},"arguments":[{"type":"LiteralStringExpression","value":"script"}]}}]}},{"type":"VariableDeclarationStatement","declaration":{"type":"VariableDeclaration","kind":"var","declarators":[{"type":"VariableDeclarator","binding":{"type":"Identifier","name":"resolve"},"init":{"type":"FunctionExpression","name":null,"parameters":[],"body":{"type":"FunctionBody","directives":[],"statements":[{"type":"VariableDeclarationStatement","declaration":{"type":"VariableDeclaration","kind":"var","declarators":[{"type":"VariableDeclarator","binding":{"type":"Identifier","name":"provider"},"init":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":"===","left":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"type"}},"right":{"type":"LiteralStringExpression","value":"primus"}},"consequent":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"Primus"}},"alternate":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"io"}}}}]}},{"type":"IfStatement","test":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"queryObj"}},"consequent":{"type":"BlockStatement","block":{"type":"Block","statements":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"dfd"}},"property":{"type":"Identifier","name":"resolve"}},"arguments":[{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"provider"}},"property":{"type":"Identifier","name":"connect"}},"arguments":[{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"host"}},{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"queryObj"}}]}]}}]}},"alternate":{"type":"BlockStatement","block":{"type":"Block","statements":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"dfd"}},"property":{"type":"Identifier","name":"resolve"}},"arguments":[{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"provider"}},"property":{"type":"Identifier","name":"connect"}},"arguments":[{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"host"}}]}]}}]}}}]}}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"script"}},"property":{"type":"Identifier","name":"setAttribute"}},"arguments":[{"type":"LiteralStringExpression","value":"type"},{"type":"LiteralStringExpression","value":"text/javascript"}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"script"}},"property":{"type":"Identifier","name":"setAttribute"}},"arguments":[{"type":"LiteralStringExpression","value":"src"},{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"||","left":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"host"}},"right":{"type":"LiteralStringExpression","value":""}},"right":{"type":"LiteralStringExpression","value":"/"}},"right":{"type":"ComputedMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"socketTypes"}},"expression":{"type":"BinaryExpression","operator":"||","left":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"options"}},"property":{"type":"Identifier","name":"type"}},"right":{"type":"LiteralStringExpression","value":"socketio"}}}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","binding":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"script"}},"property":{"type":"Identifier","name":"onload"}},"expression":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"resolve"}}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","binding":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"script"}},"property":{"type":"Identifier","name":"onreadystatechange"}},"expression":{"type":"FunctionExpression","name":null,"parameters":[],"body":{"type":"FunctionBody","directives":[],"statements":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"===","left":{"type":"StaticMemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"readyState"}},"right":{"type":"LiteralStringExpression","value":"complete"}},"consequent":{"type":"BlockStatement","block":{"type":"Block","statements":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"resolve"}},"arguments":[]}}]}},"alternate":null}]}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"document"}},"property":{"type":"Identifier","name":"body"}},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"script"}}]}}]}},"alternate":null},{"type":"ReturnStatement","expression":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"dfd"}}}]}}}]}}},{"type":"ReturnStatement","expression":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"can"}},"property":{"type":"Identifier","name":"Feathers"}}}]}}]}}]}}