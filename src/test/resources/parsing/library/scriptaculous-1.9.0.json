{"type":"Script","body":{"type":"FunctionBody","directives":[],"statements":[{"type":"VariableDeclarationStatement","declaration":{"type":"VariableDeclaration","kind":"var","declarators":[{"type":"VariableDeclarator","binding":{"type":"Identifier","name":"Scriptaculous"},"init":{"type":"ObjectExpression","properties":[{"type":"DataProperty","name":{"type":"identifier","value":"Version"},"value":{"type":"LiteralStringExpression","value":"1.9.0"}},{"type":"DataProperty","name":{"type":"identifier","value":"require"},"value":{"type":"FunctionExpression","name":null,"parameters":[{"type":"Identifier","name":"libraryName"}],"body":{"type":"FunctionBody","directives":[],"statements":[{"type":"TryStatement","body":{"type":"Block","statements":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"document"}},"property":{"type":"Identifier","name":"write"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"LiteralStringExpression","value":"<script type=\"text/javascript\" src=\""},"right":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"libraryName"}}},"right":{"type":"LiteralStringExpression","value":"\"></script>"}}]}}]},"handler":{"type":"CatchClause","binding":{"type":"Identifier","name":"e"},"body":{"type":"Block","statements":[{"type":"VariableDeclarationStatement","declaration":{"type":"VariableDeclaration","kind":"var","declarators":[{"type":"VariableDeclarator","binding":{"type":"Identifier","name":"script"},"init":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"document"}},"property":{"type":"Identifier","name":"createElement"}},"arguments":[{"type":"LiteralStringExpression","value":"script"}]}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","binding":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"script"}},"property":{"type":"Identifier","name":"type"}},"expression":{"type":"LiteralStringExpression","value":"text/javascript"}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","binding":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"script"}},"property":{"type":"Identifier","name":"src"}},"expression":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"libraryName"}}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"ComputedMemberExpression","object":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"document"}},"property":{"type":"Identifier","name":"getElementsByTagName"}},"arguments":[{"type":"LiteralStringExpression","value":"head"}]},"expression":{"type":"LiteralNumericExpression","value":0.0}},"property":{"type":"Identifier","name":"appendChild"}},"arguments":[{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"script"}}]}}]}},"finalizer":null}]}}},{"type":"DataProperty","name":{"type":"identifier","value":"REQUIRED_PROTOTYPE"},"value":{"type":"LiteralStringExpression","value":"1.6.0.3"}},{"type":"DataProperty","name":{"type":"identifier","value":"load"},"value":{"type":"FunctionExpression","name":null,"parameters":[],"body":{"type":"FunctionBody","directives":[],"statements":[{"type":"FunctionDeclaration","name":{"type":"Identifier","name":"convertVersionString"},"parameters":[{"type":"Identifier","name":"versionString"}],"body":{"type":"FunctionBody","directives":[],"statements":[{"type":"VariableDeclarationStatement","declaration":{"type":"VariableDeclaration","kind":"var","declarators":[{"type":"VariableDeclarator","binding":{"type":"Identifier","name":"v"},"init":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"versionString"}},"property":{"type":"Identifier","name":"replace"}},"arguments":[{"type":"LiteralRegexExpression","value":"/_.*|\\./g"},{"type":"LiteralStringExpression","value":""}]}}]}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","operator":"=","binding":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"v"}},"expression":{"type":"CallExpression","callee":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"parseInt"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"v"}},"right":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"LiteralStringExpression","value":"0"},"property":{"type":"Identifier","name":"times"}},"arguments":[{"type":"BinaryExpression","operator":"-","left":{"type":"LiteralNumericExpression","value":4.0},"right":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"v"}},"property":{"type":"Identifier","name":"length"}}}]}}]}}},{"type":"ReturnStatement","expression":{"type":"ConditionalExpression","test":{"type":"BinaryExpression","operator":">","left":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"versionString"}},"property":{"type":"Identifier","name":"indexOf"}},"arguments":[{"type":"LiteralStringExpression","value":"_"}]},"right":{"type":"PrefixExpression","operator":"-","operand":{"type":"LiteralNumericExpression","value":1.0}}},"consequent":{"type":"BinaryExpression","operator":"-","left":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"v"}},"right":{"type":"LiteralNumericExpression","value":1.0}},"alternate":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"v"}}}}]}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"||","left":{"type":"BinaryExpression","operator":"||","left":{"type":"BinaryExpression","operator":"||","left":{"type":"BinaryExpression","operator":"==","left":{"type":"PrefixExpression","operator":"typeof","operand":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"Prototype"}}},"right":{"type":"LiteralStringExpression","value":"undefined"}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"PrefixExpression","operator":"typeof","operand":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"Element"}}},"right":{"type":"LiteralStringExpression","value":"undefined"}}},"right":{"type":"BinaryExpression","operator":"==","left":{"type":"PrefixExpression","operator":"typeof","operand":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"Element"}},"property":{"type":"Identifier","name":"Methods"}}},"right":{"type":"LiteralStringExpression","value":"undefined"}}},"right":{"type":"BinaryExpression","operator":"<","left":{"type":"CallExpression","callee":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"convertVersionString"}},"arguments":[{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"Prototype"}},"property":{"type":"Identifier","name":"Version"}}]},"right":{"type":"CallExpression","callee":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"convertVersionString"}},"arguments":[{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"Scriptaculous"}},"property":{"type":"Identifier","name":"REQUIRED_PROTOTYPE"}}]}}},"consequent":{"type":"ThrowStatement","expression":{"type":"BinaryExpression","operator":"+","left":{"type":"LiteralStringExpression","value":"script.aculo.us requires the Prototype JavaScript framework >= "},"right":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"Scriptaculous"}},"property":{"type":"Identifier","name":"REQUIRED_PROTOTYPE"}}}},"alternate":null},{"type":"VariableDeclarationStatement","declaration":{"type":"VariableDeclaration","kind":"var","declarators":[{"type":"VariableDeclarator","binding":{"type":"Identifier","name":"js"},"init":{"type":"LiteralRegexExpression","value":"/scriptaculous\\.js(\\?.*)?$/"}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"CallExpression","callee":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"$$"}},"arguments":[{"type":"LiteralStringExpression","value":"script[src]"}]},"property":{"type":"Identifier","name":"findAll"}},"arguments":[{"type":"FunctionExpression","name":null,"parameters":[{"type":"Identifier","name":"s"}],"body":{"type":"FunctionBody","directives":[],"statements":[{"type":"ReturnStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"s"}},"property":{"type":"Identifier","name":"src"}},"property":{"type":"Identifier","name":"match"}},"arguments":[{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"js"}}]}}]}}]},"property":{"type":"Identifier","name":"each"}},"arguments":[{"type":"FunctionExpression","name":null,"parameters":[{"type":"Identifier","name":"s"}],"body":{"type":"FunctionBody","directives":[],"statements":[{"type":"VariableDeclarationStatement","declaration":{"type":"VariableDeclaration","kind":"var","declarators":[{"type":"VariableDeclarator","binding":{"type":"Identifier","name":"path"},"init":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"s"}},"property":{"type":"Identifier","name":"src"}},"property":{"type":"Identifier","name":"replace"}},"arguments":[{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"js"}},{"type":"LiteralStringExpression","value":""}]}},{"type":"VariableDeclarator","binding":{"type":"Identifier","name":"includes"},"init":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"s"}},"property":{"type":"Identifier","name":"src"}},"property":{"type":"Identifier","name":"match"}},"arguments":[{"type":"LiteralRegexExpression","value":"/\\?.*load=([a-z,]*)/"}]}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"ConditionalExpression","test":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"includes"}},"consequent":{"type":"ComputedMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"includes"}},"expression":{"type":"LiteralNumericExpression","value":1.0}},"alternate":{"type":"LiteralStringExpression","value":"builder,effects,dragdrop,controls,slider,sound"}},"property":{"type":"Identifier","name":"split"}},"arguments":[{"type":"LiteralStringExpression","value":","}]},"property":{"type":"Identifier","name":"each"}},"arguments":[{"type":"FunctionExpression","name":null,"parameters":[{"type":"Identifier","name":"include"}],"body":{"type":"FunctionBody","directives":[],"statements":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"Scriptaculous"}},"property":{"type":"Identifier","name":"require"}},"arguments":[{"type":"BinaryExpression","operator":"+","left":{"type":"BinaryExpression","operator":"+","left":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"path"}},"right":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"include"}}},"right":{"type":"LiteralStringExpression","value":".js"}}]}}]}}]}}]}}]}}]}}}]}}]}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","callee":{"type":"StaticMemberExpression","object":{"type":"IdentifierExpression","identifier":{"type":"Identifier","name":"Scriptaculous"}},"property":{"type":"Identifier","name":"load"}},"arguments":[]}}]}}